<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>MailMimeParser 1.3 » \ZBateson\MailMimeParser\Message\MessageParser</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">MailMimeParser 1.3</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/ZBateson.html"><i class="icon-th"></i> ZBateson</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/MailMimeParser.html"><i class="icon-folder-open"></i> MailMimeParser</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">15</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">9</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method___construct" title="__construct() :: Sets up the parser with its dependencies."><span class="description">Sets up the parser with its dependencies.</span><pre>__construct()</pre></a></li>
<li class="method public "><a href="#method_parse" title="parse() :: Parses the passed stream into a ZBateson\MailMimeParser\Message object
and returns it."><span class="description">Parses the passed stream into a ZBateson\MailMimeParser\Message object
and returns it.</span><pre>parse()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="method protected "><a href="#method_read" title="read() :: Reads the message from the passed stream and returns a PartBuilder
representing it."><span class="description">Reads the message from the passed stream and returns a PartBuilder
representing it.</span><pre>read()</pre></a></li>
<li class="method protected "><a href="#method_readHeaders" title="readHeaders() :: Reads header lines up to an empty line, adding them to the passed
$partBuilder."><span class="description">Reads header lines up to an empty line, adding them to the passed
$partBuilder.</span><pre>readHeaders()</pre></a></li>
<li class="method protected "><a href="#method_readPart" title="readPart() :: Reads a part and any of its children, into the passed $partBuilder,
either by calling readUUEncodedOrPlainTextMessage or readPartContent
after reading headers."><span class="description">Reads a part and any of its children, into the passed $partBuilder,
either by calling readUUEncodedOrPlainTextMessage or readPartContent
after reading headers.</span><pre>readPart()</pre></a></li>
<li class="method protected "><a href="#method_readUUEncodedOrPlainTextMessage" title="readUUEncodedOrPlainTextMessage() :: Reads content for a non-mime message.  If there are uuencoded attachment
parts in the message (denoted by 'begin' lines), those parts are read and
added to the passed $partBuilder as children."><span class="description">Reads content for a non-mime message.  If there are uuencoded attachment
parts in the message (denoted by 'begin' lines), those parts are read and
added to the passed $partBuilder as children.</span><pre>readUUEncodedOrPlainTextMessage()</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul>
<li class="method private "><a href="#method_addRawHeaderToPart" title="addRawHeaderToPart() :: Ensures the header isn't empty and contains a colon separator character,
then splits it and calls $partBuilder-&gt;addHeader."><span class="description">Ensures the header isn't empty and contains a colon separator character,
then splits it and calls $partBuilder-&gt;addHeader.</span><pre>addRawHeaderToPart()</pre></a></li>
<li class="method private "><a href="#method_findContentBoundary" title="findContentBoundary() :: Reads lines from the passed $handle, calling
$partBuilder-&gt;setEndBoundaryFound with the passed line until it returns
true or the stream is at EOF."><span class="description">Reads lines from the passed $handle, calling
$partBuilder-&gt;setEndBoundaryFound with the passed line until it returns
true or the stream is at EOF.</span><pre>findContentBoundary()</pre></a></li>
<li class="method private "><a href="#method_readBoundaryLine" title="readBoundaryLine() :: Reads a line of 2048 characters.  If the line is larger than that, the
remaining characters in the line are read and
discarded, and only the first part is returned."><span class="description">Reads a line of 2048 characters.  If the line is larger than that, the
remaining characters in the line are read and
discarded, and only the first part is returned.</span><pre>readBoundaryLine()</pre></a></li>
<li class="method private "><a href="#method_readLine" title="readLine() :: Reads a line of up to 4096 characters.  If the line is larger than that,
the remaining characters in the line are read and discarded, and only the
first 4096 characters are returned."><span class="description">Reads a line of up to 4096 characters.  If the line is larger than that,
the remaining characters in the line are read and discarded, and only the
first 4096 characters are returned.</span><pre>readLine()</pre></a></li>
<li class="method private "><a href="#method_readPartContent" title="readPartContent() :: Reads content for a single part of a MIME message."><span class="description">Reads content for a single part of a MIME message.</span><pre>readPartContent()</pre></a></li>
</ul>
</li>
<li class="nav-header">
<i title="Properties" class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul>
<li class="property protected "><a href="#property_partBuilderFactory" title="$partBuilderFactory() :: "><span class="description">used to create PartBuilders</span><pre>$partBuilderFactory</pre></a></li>
<li class="property protected "><a href="#property_partFactoryService" title="$partFactoryService() :: "><span class="description">service instance used to create MimePartFactory
     objects.</span><pre>$partFactoryService</pre></a></li>
</ul>
</li>
<li class="nav-header private">» Private
                    <ul><li class="property private "><a href="#property_lastLineSeparatorLength" title="$lastLineSeparatorLength() :: "><span class="description">maintains the character length of the last line separator,
typically 2 for CRLF, to keep track of the correct 'end' position
for a part because the CRLF before a boundary is considered part of
the boundary.</span><pre>$lastLineSeparatorLength</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\ZBateson\MailMimeParser\Message\MessageParser"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/ZBateson.html">ZBateson</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/ZBateson.MailMimeParser.html">MailMimeParser</a>
</li>
<li>
<span class="divider">\</span><a href="../namespaces/ZBateson.MailMimeParser.Message.html">Message</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/ZBateson.MailMimeParser.Message.MessageParser.html">MessageParser</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element class">
<p class="short_description">Parses a mail mime message into its component parts.  To invoke, call
MailMimeParser::parse.</p>
<div class="details">
<div class="long_description"></div>
<table class="table table-bordered">
<tr>
<th>author</th>
<td><a href="">Zaahid Bateson</a></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/MailMimeParser.html">MailMimeParser</a></td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method___construct"></a><div class="element clickable method public method___construct " data-toggle="collapse" data-target=".method___construct .collapse" title="public">
<h2>Sets up the parser with its dependencies.</h2>
<pre>__construct(\ZBateson\MailMimeParser\Message\Part\Factory\PartFactoryService $pfs, \ZBateson\MailMimeParser\Message\Part\Factory\PartBuilderFactory $pbf) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$pfs</h4>
<code>\ZBateson\MailMimeParser\Message\Part\Factory\PartFactoryService</code>
</div>
<div class="subelement argument">
<h4>$pbf</h4>
<code>\ZBateson\MailMimeParser\Message\Part\Factory\PartBuilderFactory</code>
</div>
</div></div>
</div>
<a id="method_parse"></a><div class="element clickable method public method_parse " data-toggle="collapse" data-target=".method_parse .collapse" title="public">
<h2>Parses the passed stream into a ZBateson\MailMimeParser\Message object
and returns it.</h2>
<pre>parse(\Psr\Http\Message\StreamInterface $stream) : \ZBateson\MailMimeParser\Message</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$stream</h4>
<code>\Psr\Http\Message\StreamInterface</code><p>the stream to parse the message from</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>\ZBateson\MailMimeParser\Message</code></div>
</div></div>
</div>
<a id="method_read"></a><div class="element clickable method protected method_read " data-toggle="collapse" data-target=".method_read .collapse" title="protected">
<h2>Reads the message from the passed stream and returns a PartBuilder
representing it.</h2>
<pre>read(\Psr\Http\Message\StreamInterface $stream) : \ZBateson\MailMimeParser\Message\Part\PartBuilder</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$stream</h4>
<code>\Psr\Http\Message\StreamInterface</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code></div>
</div></div>
</div>
<a id="method_readHeaders"></a><div class="element clickable method protected method_readHeaders " data-toggle="collapse" data-target=".method_readHeaders .collapse" title="protected">
<h2>Reads header lines up to an empty line, adding them to the passed
$partBuilder.</h2>
<pre>readHeaders(resource $handle, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code><p>the resource handle to read from</p></div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code><p>the current part to add headers to</p></div>
</div></div>
</div>
<a id="method_readPart"></a><div class="element clickable method protected method_readPart " data-toggle="collapse" data-target=".method_readPart .collapse" title="protected">
<h2>Reads a part and any of its children, into the passed $partBuilder,
either by calling readUUEncodedOrPlainTextMessage or readPartContent
after reading headers.</h2>
<pre>readPart(resource $handle, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code>
</div>
</div></div>
</div>
<a id="method_readUUEncodedOrPlainTextMessage"></a><div class="element clickable method protected method_readUUEncodedOrPlainTextMessage " data-toggle="collapse" data-target=".method_readUUEncodedOrPlainTextMessage .collapse" title="protected">
<h2>Reads content for a non-mime message.  If there are uuencoded attachment
parts in the message (denoted by 'begin' lines), those parts are read and
added to the passed $partBuilder as children.</h2>
<pre>readUUEncodedOrPlainTextMessage(resource $handle, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_addRawHeaderToPart"></a><div class="element clickable method private method_addRawHeaderToPart " data-toggle="collapse" data-target=".method_addRawHeaderToPart .collapse" title="private">
<h2>Ensures the header isn't empty and contains a colon separator character,
then splits it and calls $partBuilder-&gt;addHeader.</h2>
<pre>addRawHeaderToPart(string $header, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$header</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code>
</div>
</div></div>
</div>
<a id="method_findContentBoundary"></a><div class="element clickable method private method_findContentBoundary " data-toggle="collapse" data-target=".method_findContentBoundary .collapse" title="private">
<h2>Reads lines from the passed $handle, calling
$partBuilder-&gt;setEndBoundaryFound with the passed line until it returns
true or the stream is at EOF.</h2>
<pre>findContentBoundary(resource $handle, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>setEndBoundaryFound returns true if the passed line matches a boundary
for the $partBuilder itself or any of its parents.</p>
<p>Once a boundary is found, setStreamPartAndContentEndPos is called with
the passed $handle's read pos before the boundary and its line separator
were read.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code>
</div>
</div></div>
</div>
<a id="method_readBoundaryLine"></a><div class="element clickable method private method_readBoundaryLine " data-toggle="collapse" data-target=".method_readBoundaryLine .collapse" title="private">
<h2>Reads a line of 2048 characters.  If the line is larger than that, the
remaining characters in the line are read and
discarded, and only the first part is returned.</h2>
<pre>readBoundaryLine(resource $handle, integer $lineSeparatorLength<code> = 0</code>) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>This method is identical to readLine, except it calculates the number of
characters that make up the line's new line characters (e.g. 2 for &quot;\r\n&quot;
or 1 for &quot;\n&quot;).</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$lineSeparatorLength</h4>
<code>integer</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_readLine"></a><div class="element clickable method private method_readLine " data-toggle="collapse" data-target=".method_readLine .collapse" title="private">
<h2>Reads a line of up to 4096 characters.  If the line is larger than that,
the remaining characters in the line are read and discarded, and only the
first 4096 characters are returned.</h2>
<pre>readLine(resource $handle) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>string</code></div>
</div></div>
</div>
<a id="method_readPartContent"></a><div class="element clickable method private method_readPartContent " data-toggle="collapse" data-target=".method_readPartContent .collapse" title="private">
<h2>Reads content for a single part of a MIME message.</h2>
<pre>readPartContent(resource $handle, \ZBateson\MailMimeParser\Message\Part\PartBuilder $partBuilder) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"><p>If the part being read is in turn a multipart part, readPart is called on
it recursively to read its headers and content.</p>
<p>The start/end positions of the part's content are set on the passed
$partBuilder, which in turn sets the end position of the part and its
parents.</p></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$handle</h4>
<code>resource</code>
</div>
<div class="subelement argument">
<h4>$partBuilder</h4>
<code>\ZBateson\MailMimeParser\Message\Part\PartBuilder</code>
</div>
</div></div>
</div>
<h3>
<i title="Properties" class="icon-custom icon-property"></i> Properties</h3>
<a id="property_partBuilderFactory"> </a><div class="element clickable property protected property_partBuilderFactory" data-toggle="collapse" data-target=".property_partBuilderFactory .collapse" title="protected">
<h2>used to create PartBuilders</h2>
<pre>$partBuilderFactory : \ZBateson\MailMimeParser\Message\Part\Factory\PartBuilderFactory</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_partFactoryService"> </a><div class="element clickable property protected property_partFactoryService" data-toggle="collapse" data-target=".property_partFactoryService .collapse" title="protected">
<h2>service instance used to create MimePartFactory
     objects.</h2>
<pre>$partFactoryService : \ZBateson\MailMimeParser\Message\Part\Factory\PartFactoryService</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
<a id="property_lastLineSeparatorLength"> </a><div class="element clickable property private property_lastLineSeparatorLength" data-toggle="collapse" data-target=".property_lastLineSeparatorLength .collapse" title="private">
<h2>maintains the character length of the last line separator,
typically 2 for CRLF, to keep track of the correct 'end' position
for a part because the CRLF before a boundary is considered part of
the boundary.</h2>
<pre>$lastLineSeparatorLength : integer</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>0</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.9.1</a> and<br>
            generated on 2020-10-21T16:01:03-07:00.<br></footer></div>
</div>
</body>
</html>
